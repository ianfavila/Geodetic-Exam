<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Protest - Geodetic Engineering Reviewer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f6fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: bold;
        }
        
        .logo-icon {
            font-size: 28px;
            color: var(--secondary-color);
        }
        
        /* Navigation Styles */
        nav ul {
            display: flex;
            gap: 20px;
            list-style: none;
            align-items: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Login Button Style */
        .login-button {
            background-color: var(--accent-color);
            color: white;
            padding: 5px 15px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .login-button:hover {
            background-color: #c0392b;
        }
        
        /* Login Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 80%;
            max-width: 400px;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close:hover {
            color: #333;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .login-submit {
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            margin-top: 10px;
        }
        
        .login-submit:hover {
            background-color: #2980b9;
        }
        
        /* Page Header */
        .page-header {
            background-color: white;
            padding: 30px 0;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .page-title {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .page-description {
            color: #7f8c8d;
            max-width: 800px;
        }
        
        /* Protest Form */
        .protest-container {
            display: flex;
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .protest-form-container {
            flex: 2;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .form-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .protest-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .form-group label {
            font-weight: 500;
            color: var(--dark-color);
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-btn {
            background-color: var(--warning-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            display: inline-block;
            text-align: center;
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            background-color: #d35400;
        }
        
        /* Form Notes */
        .form-note {
            background-color: rgba(243, 156, 18, 0.1);
            border: 1px solid var(--warning-color);
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        
        .form-note-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            color: var(--warning-color);
            margin-bottom: 8px;
        }
        
        /* Sidebar */
        .protest-sidebar {
            flex: 1;
        }
        
        .sidebar-card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .sidebar-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .sidebar-icon {
            color: var(--warning-color);
        }
        
        .process-list {
            list-style: none;
            margin-bottom: 15px;
        }
        
        .process-list li {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
        }
        
        .process-list li:before {
            content: attr(data-step);
            position: absolute;
            left: 0;
            top: 0;
            width: 22px;
            height: 22px;
            background-color: var(--warning-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .guidelines-list {
            list-style: none;
            margin-bottom: 15px;
        }
        
        .guidelines-list li {
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .guideline-icon {
            color: var(--warning-color);
            margin-top: 3px;
        }
        
        .contact-link {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: color 0.3s;
        }
        
        .contact-link:hover {
            color: #2980b9;
        }
        
        /* Success Message */
        .success-message {
            display: none;
            background-color: rgba(46, 204, 113, 0.1);
            border: 1px solid var(--success-color);
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 20px;
            color: var(--success-color);
            font-weight: 500;
        }
        
        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 40px 0 20px;
            margin-top: 50px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 15px;
            position: relative;
        }
        
        .footer-section h3:after {
            content: '';
            display: block;
            width: 30px;
            height: 2px;
            background-color: var(--secondary-color);
            margin-top: 5px;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 8px;
        }
        
        .footer-links a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--secondary-color);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .social-links a {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .social-links a:hover {
            background-color: var(--secondary-color);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: #bdc3c7;
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .protest-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <i class="fas fa-globe-americas logo-icon"></i>
                <span>Geodetic Engineering Reviewer</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="feedback.html">Feedback</a></li>
                    <li><a href="protest.html">Protest</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="aboutus.html">About Us</a></li>
                    <li><button id="loginBtn" class="login-button">Login</button></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="login-submit">Login</button>
            </form>
        </div>
    </div>
    
    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1 class="page-title">Submit Question Protest</h1>
            <p class="page-description">If you believe a question in our system is incorrectly keyed or contains inaccurate information, you can submit a formal protest using this form.</p>
        </div>
    </section>
    
    <!-- Protest Form -->
    <div class="container">
        <div class="success-message" id="success-message">
            <i class="fas fa-check-circle"></i> Thank you for submitting your protest. Our content team will review your submission and respond within 2-3 business days.
        </div>
        
        <div class="protest-container">
            <div class="protest-form-container">
                <div class="form-note">
                    <div class="form-note-title">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>Important Note</span>
                    </div>
                    <p>All protests undergo a thorough review by our subject matter experts. Please provide as much detail and evidence as possible to support your protest.</p>
                </div>
                
                <h2 class="form-title">Question Protest Form</h2>
                <form class="protest-form" id="protest-form">
                    <div class="form-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="protest-email">Email Address</label>
                        <input type="email" id="protest-email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <select id="subject" name="subject" required>
                            <option value="">Select Subject</option>
                            <option value="Geodesy">Geodesy</option>
                            <option value="Mathematics">Mathematics</option>
                            <option value="Theory and Practice of Surveying">Theory & Practice of Surveying</option>
                            <option value="Laws, Rules, and Ethics">Laws, Rules, and Ethics</option>
                            <option value="Cartography">Cartography</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="question-id">Question ID or Text</label>
                        <input type="text" id="question-id" name="question-id" required placeholder="Enter the question ID or first few words of the question">
                    </div>
                    
                    <div class="form-group">
                        <label for="protest-reason">Reason for Protest</label>
                        <select id="protest-reason" name="protest-reason" required>
                            <option value="">Select Reason</option>
                            <option value="incorrect-answer">Incorrect Answer Key</option>
                            <option value="multiple-answers">Multiple Correct Answers</option>
                            <option value="unclear-question">Unclear or Ambiguous Question</option>
                            <option value="outdated-content">Outdated Information</option>
                            <option value="factual-error">Factual Error</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="explanation">Detailed Explanation</label>
                        <textarea id="explanation" name="explanation" required placeholder="Please provide a detailed explanation of why you believe the question is incorrect. Include references, formulas, or other supporting evidence..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="correct-answer">What do you believe is the correct answer?</label>
                        <textarea id="correct-answer" name="correct-answer" required placeholder="Explain what you believe is the correct answer and why..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="references">References (Optional)</label>
                        <textarea id="references" name="references" placeholder="List any textbooks, papers, codes, or other references that support your protest..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-gavel"></i> Submit Protest
                    </button>
                </form>
            </div>
            
            <div class="protest-sidebar">
                <div class="sidebar-card">
                    <h3 class="sidebar-title">
                        <i class="fas fa-clipboard-list sidebar-icon"></i>
                        Protest Process
                    </h3>
                    <ul class="process-list">
                        <li data-step="1">Submit your protest with detailed explanation and evidence</li>
                        <li data-step="2">Our content team reviews your submission (2-3 business days)</li>
                        <li data-step="3">If validated, the question will be corrected or removed</li>
                        <li data-step="4">You will receive an email notification about the decision</li>
                    </ul>
                </div>
                
                <div class="sidebar-card">
                    <h3 class="sidebar-title">
                        <i class="fas fa-info-circle sidebar-icon"></i>
                        Guidelines for Effective Protests
                    </h3>
                    <ul class="guidelines-list">
                        <li>
                            <i class="fas fa-check guideline-icon"></i>
                            <span>Be specific about why the question or answer is incorrect</span>
                        </li>
                        <li>
                            <i class="fas fa-check guideline-icon"></i>
                            <span>Provide authoritative references or sources</span>
                        </li>
                        <li>
                            <i class="fas fa-check guideline-icon"></i>
                            <span>Include relevant equations, calculations, or legal references</span>
                        </li>
                        <li>
                            <i class="fas fa-check guideline-icon"></i>
                            <span>Focus on facts rather than opinions</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About</h3>
                    <p>The Geodetic Engineering Reviewer is an online self-assessment platform designed to help students prepare for their examinations.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="news.html">News</a></li>
                        <li><a href="feedback.html">Feedback</a></li>
                        <li><a href="protest.html">Protest</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="aboutus.html">About Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-map-marker-alt"></i> Manila, Philippines</li>
                        <li><i class="fas fa-phone"></i> +63 123 456 7890</li>
                        <li><i class="fas fa-envelope"></i> info@geodeticreviewer.com</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Geodetic Engineering Reviewer. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBhHCA9CF_9D_2d-cD7B7S3YlT1NqtF6aI",
            authDomain: "geodetic-online-examination.firebaseapp.com",
            projectId: "geodetic-online-examination",
            storageBucket: "geodetic-online-examination.appspot.com",
            messagingSenderId: "969654297831",
            appId: "1:969654297831:web:2aad20782023935f46ae42",
            measurementId: "G-08N38SCD9S"
        };

        // Initialize Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            console.log("Firebase initialized successfully for protests.");
        } catch (e) {
            console.error("Error initializing Firebase:", e);
        }

        // Get Firestore reference
        const db = firebase.firestore();
        const protestsCollection = db.collection('protests');

        // Form submission handler
        document.getElementById('protest-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state on button
            const submitBtn = this.querySelector('.submit-btn');
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            submitBtn.disabled = true;
            
            // Get form values
            const name = document.getElementById('name').value;
            const email = document.getElementById('protest-email').value;
            const subject = document.getElementById('subject').value;
            const questionId = document.getElementById('question-id').value;
            const protestReason = document.getElementById('protest-reason').value;
            const explanation = document.getElementById('explanation').value;
            const correctAnswer = document.getElementById('correct-answer').value;
            const references = document.getElementById('references').value;
            
            // Create protest data object
            const protestData = {
                name,
                email,
                subject,
                questionId,
                protestReason,
                explanation,
                correctAnswer,
                references,
                status: 'pending',
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            // Save to Firestore
            protestsCollection.add(protestData)
                .then(function(docRef) {
                    console.log("Protest submitted with ID: ", docRef.id);
                    
                    // Show success message
                    document.getElementById('success-message').style.display = 'block';
                    
                    // Reset form
                    document.getElementById('protest-form').reset();
                    
                    // Reset button
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                    
                    // Scroll to success message
                    document.getElementById('success-message').scrollIntoView({ behavior: 'smooth' });
                    
                    // Hide success message after 5 seconds
                    setTimeout(function() {
                        document.getElementById('success-message').style.display = 'none';
                    }, 5000);
                })
                .catch(function(error) {
                    console.error("Error submitting protest: ", error);
                    
                    // Show error message
                    alert("Error submitting protest: " + error.message);
                    
                    // Reset button
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                });
        });
        
        // Login Modal Setup
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById("loginModal");
            const loginBtn = document.getElementById("loginBtn");
            const closeBtn = document.getElementsByClassName("close")[0];
            const loginForm = document.getElementById("loginForm");
            
            // When the user clicks the login button, open the modal
            loginBtn.onclick = function() {
                modal.style.display = "block";
            }
            
            // When the user clicks on <span> (x), close the modal
            closeBtn.onclick = function() {
                modal.style.display = "none";
            }
            
            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
            
            // Handle login form submission
            loginForm.addEventListener("submit", function(e) {
                e.preventDefault();
                
                const email = document.getElementById("login-email").value;
                const password = document.getElementById("password").value;
                
                // Check if it's an admin email
                if (email.endsWith("gmail.com")) {
                    // Redirect directly to admin page without password check
                    window.location.href = "admin.html";
                } else if (email === "geodeticeexam.gmail.com" && password === "shamgod1062") {
                    // Original admin credentials still work too
                    window.location.href = "admin.html";
                } else {
                    // For non-admin users or incorrect credentials
                    alert("Invalid credentials. Please try again.");
                }
            });
        });
    </script>
</body>
</html>